<?xml version="1.0" ?>
<robot name="SMART-TROLLEY_V4_AI" xmlns:xacro="http://www.ros.org/wiki/xacro">

<!-- Include materials definition -->
<xacro:include filename="$(find smart_t_ai_v1)/description/materials.xacro" />
<!-- Include transmission definitions -->
<xacro:include filename="$(find smart_t_ai_v1)/description/SMART-TROLLEY_V4.trans" />
<!-- Include Gazebo plugin configuration -->
<xacro:include filename="$(find smart_t_ai_v1)/description/SMART-TROLLEY_V4.gazebo" />

<!-- BASE LINK - Chassis with mesh from ws_smart_trolley V4 -->
<link name="base_link">
  <inertial>
    <origin xyz="0.16233866474688477 -0.22494034804370486 0.0008394917945558012" rpy="0 0 0"/>
    <mass value="15.30142321846798"/>
    <inertia ixx="0.32146" iyy="0.643205" izz="0.425001" ixy="5.2e-05" iyz="-0.00012" ixz="0.093795"/>
  </inertial>
  <visual>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<!-- RIGHT WHEEL (rueda_link_2) -->
<link name="rueda_link_2">
  <inertial>
    <origin xyz="-0.10015734115184763 -0.09955483115177238 -0.4097653387670001" rpy="0 0 0"/>
    <mass value="1.3312489684847482"/>
    <inertia ixx="0.003087" iyy="0.005539" izz="0.003087" ixy="-0.0" iyz="-1e-06" ixz="-0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.100162 0.000652 -0.114186" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/rueda_link_2.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.100162 0.000652 -0.114186" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/rueda_link_2.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<!-- LEFT WHEEL (rueda_link_1) -->
<link name="rueda_link_1">
  <inertial>
    <origin xyz="-0.09992034115184789 -0.09898977259222866 0.6129345539200277" rpy="0 0 0"/>
    <mass value="1.3312489684847482"/>
    <inertia ixx="0.003087" iyy="0.005539" izz="0.003087" ixy="0.0" iyz="-1e-06" ixz="0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.099925 0.00089 0.315814" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/rueda_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.099925 0.00089 0.315814" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/rueda_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<!-- CAMERA LINK (camera_link_1) -->
<link name="camera_link_1">
  <inertial>
    <origin xyz="-0.0038247612701667287 -0.5284832297599696 0.5078355614777369" rpy="0 0 0"/>
    <mass value="0.0622591002344868"/>
    <inertia ixx="2.9e-05" iyy="1e-05" izz="2.9e-05" ixy="0.0" iyz="0.0" ixz="0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.025 0.00028 0.507544" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/camera_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.025 0.00028 0.507544" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/camera_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<!-- REAR CASTER WHEEL (RR-RUEDA) -->
<link name="caster_wheel">
  <inertial>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <mass value="0.5"/>
    <inertia ixx="0.0024200000000000003" ixy="0.0" ixz="0.0" iyy="0.0024200000000000003" iyz="0.0" izz="0.0024200000000000003"/>
  </inertial>
  <visual>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/RR-RUEDA_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find smart_t_ai_v1)/meshes/RR-RUEDA_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<!-- JOINTS -->

<!-- Right wheel joint (mapped to right_wheel_joint for DiffDrive plugin) -->
<joint name="right_wheel_joint" type="continuous">
  <origin xyz="0.100162 -0.000652 0.114186" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="rueda_link_2"/>
  <axis xyz="0.0 -1.0 0.0"/>
</joint>

<!-- Left wheel joint (mapped to left_wheel_joint for DiffDrive plugin) -->
<joint name="left_wheel_joint" type="continuous">
  <origin xyz="0.099925 -0.00089 -0.315814" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="rueda_link_1"/>
  <axis xyz="0.0 1.0 0.0"/>
</joint>

<!-- Camera joint -->
<joint name="camera_joint" type="fixed">
  <origin xyz="0.025 -0.00028 -0.507544" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="camera_link_1"/>
</joint>

<!-- Caster wheel joint (rear passive wheel) -->
<joint name="caster_joint" type="fixed">
  <origin xyz="-0.1 0 0.4" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="caster_wheel"/>
</joint>

</robot>
